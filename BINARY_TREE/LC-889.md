# Construct binary tree from preorder and postorder

code

```cpp

class Solution {
public:

    TreeNode* solve(int preStart, int postStart, int preEnd, vector<int> &preorder, vector<int> &postorder){
        if(preStart > preEnd){
            return nullptr;
        }

        TreeNode* root = new TreeNode(preorder[preStart]);

        if(preStart == preEnd){ // edge case
            return root;
        }

        // next node is the root of the left sub tree
        int nextNode = preorder[preStart+1];
        int j = postStart;
        // searching in the postorder array
        while(postorder[j] != nextNode){
            j++;
        }

        int num = j - postStart + 1; // no of nodes in the left side 

        root->left = solve(preStart+1, postStart, preStart+num, preorder, postorder);
        root->right = solve(preStart+num+1, j+1, preEnd, preorder, postorder);

        return root;
    }
    
    TreeNode* constructFromPrePost(vector<int>& preorder, vector<int>& postorder) {
        int n = preorder.size();
        return solve(0, 0, n-1, preorder, postorder);
    }
};

```