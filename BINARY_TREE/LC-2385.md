# Amount of time Binary Tree to be infected

code

```cpp

class Solution {
public:

    void makeGraph(unordered_map<int, vector<int>> &adj, int parent, TreeNode* root){
        if(root == nullptr) return;

        if(parent != -1){
            adj[root->val].push_back(parent);
        }

        if(root->left){
            adj[root->val].push_back(root->left->val);
        }
        if(root->right){
            adj[root->val].push_back(root->right->val);
        }

        makeGraph(adj, root->val, root->left);
        makeGraph(adj, root->val, root->right);
    }

    int amountOfTime(TreeNode* root, int start) {
        unordered_map<int, vector<int>> adj; // adjacency list
        makeGraph(adj, -1, root);

        // apply bfs from start
        queue<int> que;
        unordered_set<int> visited;
        que.push(start);
        visited.insert(start);

        int minutes = 0;

        while(!que.empty()){
            int n = que.size();
            while(n--){
                int curr = que.front();
                que.pop();

                for(int &ngbr : adj[curr]){
                    if(visited.find(ngbr) == visited.end()){
                        que.push(ngbr);
                        visited.insert(ngbr);
                    }
                }
            }
            minutes++;
        }

        return minutes-1; // last extra minute
    }
};

```