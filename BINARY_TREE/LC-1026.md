# Maximum Difference between Node and Ancestors

code(Brute Force)

```cpp

class Solution {
public:
    int maxDiff;

    void findMaxDiffUtil(TreeNode* root, TreeNode* child){
        if(root == nullptr || child == nullptr) return;
        maxDiff = max(maxDiff, abs(root->val - child->val));

        findMaxDiffUtil(root, child->left);
        findMaxDiffUtil(root, child->right);
    }

    void findMaxDiff(TreeNode* root){
        if(root == nullptr) return;

        findMaxDiffUtil(root, root->left);
        findMaxDiffUtil(root, root->right);

        findMaxDiff(root->left);
        findMaxDiff(root->right);
    }

    int maxAncestorDiff(TreeNode* root) {
        maxDiff = -1;

        findMaxDiff(root);
        
        return maxDiff;
    }
};

```

code(Optimal Approach)

```cpp

class Solution {
public:

    int findMaxDiff(TreeNode* root, int minV, int maxV){
        if(root == nullptr){
            return abs(minV - maxV);
        }

        minV = min(minV, root->val);
        maxV = max(maxV, root->val);

        int l = findMaxDiff(root->left, minV, maxV);
        int r = findMaxDiff(root->right, minV, maxV);

        return max(l, r);
    }

    int maxAncestorDiff(TreeNode* root) {
        return findMaxDiff(root, root->val, root->val);
    }
};

```