# Min Cost to Connect All Points

```cpp

class Solution {
public:

    typedef pair<int, int> p;

    int prims_algorithm(unordered_map<int, vector<pair<int, int>>> &adj, int V) {
        // make the inMST vector
        vector<bool> inMST(V, false);
        priority_queue<p, vector<p>, greater<p> > pq;
        pq.push({0, 0}); // {wt, source}
        int sum = 0;

        while(!pq.empty()) {
            int cost = pq.top().first;
            int node = pq.top().second;
            pq.pop();

            // if added already then just skip the node
            if(inMST[node] == true)
                continue;

            // main condition
            inMST[node] = true;
            sum += cost;

            for(auto &ngh : adj[node]) {
                int v = ngh.first;
                int wt = ngh.second;

                if(inMST[v] == false)
                    pq.push({wt, v});
            }
        }

        return sum;
    }

    int minCostConnectPoints(vector<vector<int>>& points) {
        int n = points.size();
        // points are given have to make the adjacency list
        unordered_map<int, vector<pair<int, int>>> adj;
        for(int i=0;i<n;i++) {
            for(int j=i+1;j<n;j++) {
                int x1 = points[i][0];
                int y1 = points[i][1];

                int x2 = points[j][0];
                int y2 = points[j][1];

                int cost = abs((x1-x2)) + abs((y1-y2));
                adj[i].push_back({j, cost});
                adj[j].push_back({i, cost}); 
            }
        }

        return prims_algorithm(adj, n); // n is no of vertices
    }
};

```